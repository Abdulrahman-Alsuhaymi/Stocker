{% extends 'main/base.html' %}

{% block title %}Update {{ supplier.name }}{% endblock %}

{% block content %}

<h1>Update Supplier</h1>

<div class="row">
    <div class="col-6">
        <form class="d-flex flex-column gap-2" action="{% url 'suppliers:supplier_update_view' supplier.id %}" method="post" enctype="multipart/form-data">
            {% csrf_token %}
            
            <input type="text" placeholder="Supplier Name" name="name" class="form-control" value="{{ supplier.name }}" required maxlength="255"/>
            <input type="email" placeholder="Email" name="email" class="form-control" value="{{ supplier.email }}"/>
            <input type="text" placeholder="Phone" name="phone" class="form-control" value="{{ supplier.phone }}" maxlength="20"/>
            <input type="url" placeholder="Website" name="website" class="form-control" value="{{ supplier.website }}"/>
            
            <input type="text" placeholder="Country" name="country" class="form-control" value="{{ supplier.country }}" maxlength="100"/>
            
            <input type="file" name="logo" class="form-control" accept="image/*"/>
            {% if supplier.logo %}
            <small class="text-muted">Current logo: {{ supplier.logo.name }}</small>
            {% endif %}
            
            <select name="rating" class="form-select" required>
                <option value="">Choose Rating</option>
                <option value="1" {% if supplier.rating == 1 %}selected{% endif %}>Poor</option>
                <option value="2" {% if supplier.rating == 2 %}selected{% endif %}>Fair</option>
                <option value="3" {% if supplier.rating == 3 %}selected{% endif %}>Good</option>
                <option value="4" {% if supplier.rating == 4 %}selected{% endif %}>Very Good</option>
                <option value="5" {% if supplier.rating == 5 %}selected{% endif %}>Excellent</option>
            </select>
            
            <textarea placeholder="Notes" name="notes" class="form-control">{{ supplier.notes }}</textarea>

            <input type="submit" value="Update Supplier" class="btn btn-primary mt-4" />
        </form>
    </div>
</div>

{% endblock %}